<!DOCTYPE html>
<html>

<head>
    <title>DirtMound</title>
    <link rel="stylesheet" href="../../../css/mobile/dungeons.css">
    <link rel="stylesheet" href="../../../css/default/dungeons.css">
    <link rel="stylesheet" href="../../../css/mobile/generic.css">
    <link rel="stylesheet" href="../../../css/default/generic.css">

</head>

<body>
    <div class="main-container">

        <img src="" alt="Dungeon Background" id="background">

        <div id="input-box-container">
            <div class="details-box">
                <div id="details">
                    The worm is livid it has been beaten. It screeches a terrible sound and thrashes around violently.
                    Suddenly, the walls of dirt and mud start to heave, and begin to crash down.
                    The worm completely absorbed by its own fury is buried by the collapsing structure. The tunnel
                    behind you is now completely blocked off by the falling debris. You spot a ray of light pokin gin
                    through through the wall on your right.
                </div>
            </div>
            <div class="input-box">
                <div id="prompt">
                    What do you do?
                </div>

                <div class="options">
                    <button onclick="completeWormHill()" >Use your pickaxe to open the hole wider and escape through it.</button>

                    <script>
                        function completeWormHill() {
                            changeState('wormHillCompleted', '1');
                            clearLocalState();
                            goToMap();
                        }
                    </script>




                </div>
            </div>
        </div>

    </div>
    <!--Library Files-->
    <script src="../../../javascript/libraries/DragDropTouch.js"></script>

    <!--Config Files-->
    <script src="../../../authDetails.js"></script>

    <!--Embedded JS for the Main Game Loop-->
    <script>
        const pathToRoot = "../../../";
        let settings;

        document.addEventListener("DOMContentLoaded", async () => {
            if (sessionStorage.getItem("username") === null || sessionStorage.getItem("username") === "") {
                window.location.href = pathToRoot + "html/menus/login.html";
            }
            settings = await querySettings();
            document.dispatchEvent(new Event("settingsLoaded"));
        });
    </script>



    <!--Apply Settings-->
    <script src="../../../javascript/applySettings/textLoadingAnim.js"></script>

    <!--Load Any Database Files-->
    <script src="../../../javascript/database/queryDatabase.js"></script>
    <script src="../../../javascript/database/queryNPC.js"></script>
    <script src="../../../javascript/database/queryDecision.js"></script>
    <script src="../../../javascript/database/querySettings.js"></script>
    <script src="../../../javascript/database/pingDatabase.js"></script>


    <!--Load All Web Components-->
    <script src="../../../javascript/components/timerBar.js"></script>
    <script src="../../../javascript/components/popupMenu.js"></script>
    <script src="../../../javascript/components/dragAndDropGame.js"></script>
    <script src="../../../javascript/components/dialogue.js"></script>
    <script src="../../../javascript/components/textEntry.js"></script>
    <script src="../../../javascript/components/libraryBook.js"></script>
    <script src="../../../javascript/components/selectInventory.js"></script>
    <script src="../../../javascript/components/inventory.js"></script>
    <script src="../../../javascript/components/pauseMenu.js"></script>

    <!--Ensure the server is reachable-->
    <script src="../../../javascript/checkConnection.js"></script>

    <!--Load main game functions-->
    <script src="../../../javascript/gameFunctions/inventoryFunctions.js"></script>
    <script src="../../../javascript/gameFunctions/buttonActionFunctions.js"></script>
    <script src="../../../javascript/gameFunctions/stateFunctions.js"></script>
    <script src="../../../javascript/gameFunctions/loadNextDecision.js"></script>
    <script src="../../../javascript/gameFunctions/buildDecisionPage.js"></script>

    <!--Sound effects-->
    <script src="../../../javascript/applySettings/sounds.js"></script>
</body>

</html>